/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    "@tailwindcss/nesting": {},
    tailwindcss: {},
    // Using official @tailwindcss/nesting plugin instead of postcss-nested
    // This should resolve conflicts with SCSS processing and provide
    // proper nesting support that's compatible with Tailwind's syntax

    // The official plugin handles:
    // - CSS nesting syntax properly
    // - Integration with Tailwind directives (@apply, @screen, etc.)
    // - Better compatibility with Next.js/Turbopack
    // - Proper SCSS vs CSS processing separation
  },

  // Process only CSS files, not SCSS (handled by sass-loader)
  parser: false, // Use default CSS parser

  // Source maps for development
  map: process.env.NODE_ENV === "development" ? { inline: false } : false,
};

export default config;
